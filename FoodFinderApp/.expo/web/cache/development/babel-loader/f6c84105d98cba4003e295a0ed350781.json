{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Overlay\", {\n  enumerable: true,\n  get: function get() {\n    return _Overlay.default;\n  }\n});\nObject.defineProperty(exports, \"Sheet\", {\n  enumerable: true,\n  get: function get() {\n    return _Sheet.default;\n  }\n});\nObject.defineProperty(exports, \"Button\", {\n  enumerable: true,\n  get: function get() {\n    return _Button.default;\n  }\n});\nexports.default = exports.ShareSheet = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _Overlay = _interopRequireDefault(require(\"./components/Overlay\"));\n\nvar _Sheet = _interopRequireDefault(require(\"./components/Sheet\"));\n\nvar _Button = _interopRequireDefault(require(\"./components/Button\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\Lab\\\\ReactNative\\\\FoodApp\\\\FoodFinderApp\\\\node_modules\\\\react-native-share\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar ANDROID_KIT_KAT_SDK_VERSION = 19;\nvar androidPermissionRequestRequired = _reactNative.Platform.constants.Version < ANDROID_KIT_KAT_SDK_VERSION;\n\nvar styles = _reactNative.StyleSheet.create({\n  actionSheetContainer: {\n    flex: 1,\n    paddingTop: 10,\n    paddingBottom: 0,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  buttonContainer: {\n    overflow: 'hidden',\n    backgroundColor: 'white',\n    paddingBottom: 5,\n    paddingTop: 5\n  }\n});\n\nvar shareSheetStyle = {\n  flex: 1\n};\n\nvar ShareSheet = function (_React$Component) {\n  (0, _inherits2.default)(ShareSheet, _React$Component);\n\n  var _super = _createSuper(ShareSheet);\n\n  function ShareSheet() {\n    (0, _classCallCheck2.default)(this, ShareSheet);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(ShareSheet, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.backButtonHandler = this.backButtonHandler.bind(this);\n\n      _reactNative.BackHandler.addEventListener('backPress', this.backButtonHandler);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      _reactNative.BackHandler.removeEventListener('backPress', this.backButtonHandler);\n    }\n  }, {\n    key: \"backButtonHandler\",\n    value: function backButtonHandler() {\n      if (this.props.visible) {\n        this.props.onCancel();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          _this$props$style = _this$props.style,\n          style = _this$props$style === void 0 ? {} : _this$props$style,\n          _this$props$overlaySt = _this$props.overlayStyle,\n          overlayStyle = _this$props$overlaySt === void 0 ? {} : _this$props$overlaySt,\n          props = (0, _objectWithoutProperties2.default)(_this$props, [\"style\", \"overlayStyle\"]);\n      return React.createElement(_Overlay.default, (0, _extends2.default)({\n        visible: this.props.visible\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }\n      }), React.createElement(_reactNative.View, {\n        style: [styles.actionSheetContainer, overlayStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, React.createElement(_reactNative.TouchableOpacity, {\n        style: shareSheetStyle,\n        onPress: this.props.onCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }), React.createElement(_Sheet.default, {\n        visible: this.props.visible,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, React.createElement(_reactNative.View, {\n        style: [styles.buttonContainer, style],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, this.props.children))));\n    }\n  }]);\n  return ShareSheet;\n}(React.Component);\n\nexports.ShareSheet = ShareSheet;\n\nvar requireAndAskPermissions = function requireAndAskPermissions(options) {\n  var urls, resultArr, requirePermission, hasPermission, result;\n  return _regenerator.default.async(function requireAndAskPermissions$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!((options.url || options.urls) && _reactNative.Platform.OS === 'android')) {\n            _context.next = 26;\n            break;\n          }\n\n          urls = options.urls || (options.url ? [options.url] : []);\n          _context.prev = 2;\n          _context.next = 5;\n          return _regenerator.default.awrap(Promise.all(urls.map(function (url) {\n            return new Promise(function (res, rej) {\n              _reactNative.NativeModules.RNShare.isBase64File(url, function (e) {\n                rej(e);\n              }, function (isBase64) {\n                res(isBase64);\n              });\n            });\n          })));\n\n        case 5:\n          resultArr = _context.sent;\n          requirePermission = resultArr.includes(true);\n\n          if (requirePermission) {\n            _context.next = 9;\n            break;\n          }\n\n          return _context.abrupt(\"return\", Promise.resolve(true));\n\n        case 9:\n          _context.next = 11;\n          return _regenerator.default.awrap(_reactNative.PermissionsAndroid.check(_reactNative.PermissionsAndroid.PERMISSIONS.WRITE_EXTERNAL_STORAGE));\n\n        case 11:\n          hasPermission = _context.sent;\n\n          if (!hasPermission) {\n            _context.next = 14;\n            break;\n          }\n\n          return _context.abrupt(\"return\", Promise.resolve(true));\n\n        case 14:\n          if (!androidPermissionRequestRequired) {\n            _context.next = 21;\n            break;\n          }\n\n          _context.next = 17;\n          return _regenerator.default.awrap(_reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.WRITE_EXTERNAL_STORAGE));\n\n        case 17:\n          result = _context.sent;\n\n          if (!(result === _reactNative.PermissionsAndroid.RESULTS.GRANTED)) {\n            _context.next = 20;\n            break;\n          }\n\n          return _context.abrupt(\"return\", Promise.resolve());\n\n        case 20:\n          throw new Error('Write Permission not available');\n\n        case 21:\n          _context.next = 26;\n          break;\n\n        case 23:\n          _context.prev = 23;\n          _context.t0 = _context[\"catch\"](2);\n          return _context.abrupt(\"return\", Promise.reject(_context.t0));\n\n        case 26:\n          return _context.abrupt(\"return\", Promise.resolve(true));\n\n        case 27:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[2, 23]], Promise);\n};\n\nvar RNShare = function () {\n  function RNShare() {\n    (0, _classCallCheck2.default)(this, RNShare);\n  }\n\n  (0, _createClass2.default)(RNShare, null, [{\n    key: \"open\",\n    value: function open(options) {\n      return new Promise(function (resolve, reject) {\n        requireAndAskPermissions(options).then(function () {\n          if (_reactNative.Platform.OS === 'ios' && options.url && !options.urls) {\n            var url = options.url;\n            delete options.url;\n            options.urls = [url];\n\n            if (options.filename && !options.filenames) {\n              options.filenames = [options.filename];\n              delete options.filename;\n            }\n          }\n\n          _reactNative.NativeModules.RNShare.open(options, function (e) {\n            return reject({\n              error: e\n            });\n          }, function (success, activityType) {\n            if (success) {\n              return resolve({\n                app: activityType,\n                message: activityType\n              });\n            } else if (options.failOnCancel === false) {\n              return resolve({\n                dismissedAction: true\n              });\n            } else {\n              reject(new Error('User did not share'));\n            }\n          });\n        }).catch(function (e) {\n          return reject(e);\n        });\n      });\n    }\n  }, {\n    key: \"shareSingle\",\n    value: function shareSingle(options) {\n      if (_reactNative.Platform.OS === 'ios' || _reactNative.Platform.OS === 'android') {\n        return new Promise(function (resolve, reject) {\n          requireAndAskPermissions(options).then(function () {\n            _reactNative.NativeModules.RNShare.shareSingle(options, function (e) {\n              return reject({\n                error: e\n              });\n            }, function (e, activityType) {\n              return resolve({\n                message: e,\n                app: activityType\n              });\n            });\n          }).catch(function (e) {\n            return reject(e);\n          });\n        });\n      } else {\n        throw new Error('Not implemented');\n      }\n    }\n  }, {\n    key: \"isPackageInstalled\",\n    value: function isPackageInstalled(packageName) {\n      if (_reactNative.Platform.OS === 'android') {\n        return new Promise(function (resolve, reject) {\n          _reactNative.NativeModules.RNShare.isPackageInstalled(packageName, function (e) {\n            return reject({\n              error: e\n            });\n          }, function (isInstalled) {\n            return resolve({\n              isInstalled: isInstalled,\n              message: 'Package is Installed'\n            });\n          });\n        });\n      } else {\n        throw new Error('Not implemented');\n      }\n    }\n  }]);\n  return RNShare;\n}();\n\nRNShare.Social = {\n  FACEBOOK: _reactNative.NativeModules.RNShare.FACEBOOK || 'facebook',\n  FACEBOOK_STORIES: _reactNative.NativeModules.RNShare.FACEBOOK_STORIES || 'facebook-stories',\n  PAGESMANAGER: _reactNative.NativeModules.RNShare.PAGESMANAGER || 'pagesmanager',\n  TWITTER: _reactNative.NativeModules.RNShare.TWITTER || 'twitter',\n  WHATSAPP: _reactNative.NativeModules.RNShare.WHATSAPP || 'whatsapp',\n  INSTAGRAM: _reactNative.NativeModules.RNShare.INSTAGRAM || 'instagram',\n  INSTAGRAM_STORIES: _reactNative.NativeModules.RNShare.INSTAGRAM_STORIES || 'instagramstories',\n  GOOGLEPLUS: _reactNative.NativeModules.RNShare.GOOGLEPLUS || 'googleplus',\n  EMAIL: _reactNative.NativeModules.RNShare.EMAIL || 'email',\n  PINTEREST: _reactNative.NativeModules.RNShare.PINTEREST || 'pinterest',\n  LINKEDIN: _reactNative.NativeModules.RNShare.LINKEDIN || 'linkedin',\n  SMS: _reactNative.NativeModules.RNShare.SMS || 'sms'\n};\nRNShare.InstagramStories = {\n  SHARE_BACKGROUND_IMAGE: _reactNative.NativeModules.RNShare.SHARE_BACKGROUND_IMAGE || 'shareBackgroundImage',\n  SHARE_BACKGROUND_VIDEO: _reactNative.NativeModules.RNShare.SHARE_BACKGROUND_VIDEO || 'shareBackgroundVideo',\n  SHARE_STICKER_IMAGE: _reactNative.NativeModules.RNShare.SHARE_STICKER_IMAGE || 'shareStickerImage',\n  SHARE_BACKGROUND_AND_STICKER_IMAGE: _reactNative.NativeModules.RNShare.SHARE_BACKGROUND_AND_STICKER_IMAGE || 'shareBackgroundAndStickerImage'\n};\nRNShare.FacebookStories = {\n  SHARE_BACKGROUND_IMAGE: _reactNative.NativeModules.RNShare.SHARE_BACKGROUND_IMAGE || 'shareBackgroundImage',\n  SHARE_STICKER_IMAGE: _reactNative.NativeModules.RNShare.SHARE_STICKER_IMAGE || 'shareStickerImage',\n  SHARE_BACKGROUND_AND_STICKER_IMAGE: _reactNative.NativeModules.RNShare.SHARE_BACKGROUND_AND_STICKER_IMAGE || 'shareBackgroundAndStickerImage'\n};\nvar _default = RNShare;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/USER/Desktop/Lab/ReactNative/FoodApp/FoodFinderApp/node_modules/react-native-share/index.js"],"names":["ANDROID_KIT_KAT_SDK_VERSION","androidPermissionRequestRequired","Platform","constants","Version","styles","StyleSheet","create","actionSheetContainer","flex","paddingTop","paddingBottom","justifyContent","backgroundColor","buttonContainer","overflow","shareSheetStyle","ShareSheet","backButtonHandler","bind","BackHandler","addEventListener","removeEventListener","props","visible","onCancel","style","overlayStyle","children","React","Component","requireAndAskPermissions","options","url","urls","OS","Promise","all","map","res","rej","NativeModules","RNShare","isBase64File","e","isBase64","resultArr","requirePermission","includes","resolve","PermissionsAndroid","check","PERMISSIONS","WRITE_EXTERNAL_STORAGE","hasPermission","request","result","RESULTS","GRANTED","Error","reject","then","filename","filenames","open","error","success","activityType","app","message","failOnCancel","dismissedAction","catch","shareSingle","packageName","isPackageInstalled","isInstalled","Social","FACEBOOK","FACEBOOK_STORIES","PAGESMANAGER","TWITTER","WHATSAPP","INSTAGRAM","INSTAGRAM_STORIES","GOOGLEPLUS","EMAIL","PINTEREST","LINKEDIN","SMS","InstagramStories","SHARE_BACKGROUND_IMAGE","SHARE_BACKGROUND_VIDEO","SHARE_STICKER_IMAGE","SHARE_BACKGROUND_AND_STICKER_IMAGE","FacebookStories"],"mappings":"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","sourcesContent":["/*\n *\n * @format\n * @flow\n *\n */\n\nimport * as React from 'react';\nimport {\n  View,\n  StyleSheet,\n  TouchableOpacity,\n  BackHandler,\n  NativeModules,\n  Platform,\n  PermissionsAndroid,\n} from 'react-native';\nimport type { ViewStyleProp } from 'react-native/Libraries/StyleSheet/StyleSheet';\n\nimport Overlay from './components/Overlay';\nimport Sheet from './components/Sheet';\nimport Button from './components/Button';\n\nconst ANDROID_KIT_KAT_SDK_VERSION = 19;\nconst androidPermissionRequestRequired = Platform.constants.Version < ANDROID_KIT_KAT_SDK_VERSION;\n\nconst styles = StyleSheet.create({\n  actionSheetContainer: {\n    flex: 1,\n    paddingTop: 10,\n    paddingBottom: 0,\n    justifyContent: 'flex-end',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  },\n  buttonContainer: {\n    overflow: 'hidden',\n    backgroundColor: 'white',\n    paddingBottom: 5,\n    paddingTop: 5,\n  },\n});\n\ntype Props = {\n  visible: boolean,\n  onCancel: () => void,\n  children: React.Node,\n  style?: ViewStyleProp,\n  overlayStyle?: ViewStyleProp,\n};\n\nconst shareSheetStyle = { flex: 1 };\n\nclass ShareSheet extends React.Component<Props> {\n  backButtonHandler: () => boolean;\n\n  componentDidMount() {\n    this.backButtonHandler = this.backButtonHandler.bind(this);\n    BackHandler.addEventListener('backPress', this.backButtonHandler);\n  }\n\n  componentWillUnmount() {\n    BackHandler.removeEventListener('backPress', this.backButtonHandler);\n  }\n\n  backButtonHandler() {\n    if (this.props.visible) {\n      this.props.onCancel();\n      return true;\n    }\n    return false;\n  }\n  render() {\n    const { style = {}, overlayStyle = {}, ...props } = this.props;\n    return (\n      <Overlay visible={this.props.visible} {...props}>\n        <View style={[styles.actionSheetContainer, overlayStyle]}>\n          <TouchableOpacity style={shareSheetStyle} onPress={this.props.onCancel} />\n          <Sheet visible={this.props.visible}>\n            <View style={[styles.buttonContainer, style]}>{this.props.children}</View>\n          </Sheet>\n        </View>\n      </Overlay>\n    );\n  }\n}\n\ntype Options = {\n  url?: string,\n  urls?: Array<string>,\n  filename?: string,\n  filenames?: Array<string>,\n  type?: string,\n  message?: string,\n  title?: string,\n  subject?: string,\n  recipient?: string,\n  excludedActivityTypes?: string,\n  failOnCancel?: boolean,\n  showAppsToView?: boolean,\n  saveToFiles?: boolean,\n  appId: string,\n};\ntype MultipleOptions = {\n  url?: string,\n  urls?: Array<string>,\n  filename?: string,\n  filenames?: Array<string>,\n  type?: string,\n  message?: string,\n  title?: string,\n  subject?: string,\n  activityItemSources?: Array<ActivityItemSource>,\n  excludedActivityTypes?: string,\n  failOnCancel?: boolean,\n  showAppsToView?: boolean,\n  saveToFiles?: boolean,\n};\n\ntype ActivityType =\n  | 'addToReadingList'\n  | 'airDrop'\n  | 'assignToContact'\n  | 'copyToPasteBoard'\n  | 'mail'\n  | 'message'\n  | 'openInIBooks' // iOS 9 or later\n  | 'postToFacebook'\n  | 'postToFlickr'\n  | 'postToTencentWeibo'\n  | 'postToTwitter'\n  | 'postToVimeo'\n  | 'postToWeibo'\n  | 'print'\n  | 'saveToCameraRoll'\n  | 'markupAsPDF'; // iOS 11 or later\n\ntype ActivityItem = { type: 'text' | 'url', content: string };\n\ntype LinkMetadata = {\n  originalUrl?: string,\n  url?: string,\n  title?: string,\n  icon?: string,\n  image?: string,\n  remoteVideoUrl?: string,\n  video?: string,\n};\n\ntype ActivityItemSource = {\n  placeholderItem: ActivityItem,\n  item: { [ActivityType | string]: ?ActivityItem },\n  subject?: { [ActivityType | string]: string },\n  dataTypeIdentifier?: { [ActivityType | string]: string },\n  thumbnailImage?: { [ActivityType | string]: string },\n  linkMetadata?: LinkMetadata,\n};\n\ntype OpenReturn = { app?: string, dismissedAction?: boolean };\ntype ShareSingleReturn = { message: string, isInstalled?: boolean };\n\nconst requireAndAskPermissions = async (options: Options | MultipleOptions): Promise<any> => {\n  if ((options.url || options.urls) && Platform.OS === 'android') {\n    const urls: Array<string> = options.urls || (options.url ? [options.url] : []);\n    try {\n      const resultArr = await Promise.all(\n        urls.map(\n          (url) =>\n            new Promise((res, rej) => {\n              NativeModules.RNShare.isBase64File(\n                url,\n                (e) => {\n                  rej(e);\n                },\n                (isBase64) => {\n                  res(isBase64);\n                },\n              );\n            }),\n        ),\n      );\n\n      const requirePermission = resultArr.includes(true);\n      if (!requirePermission) {\n        return Promise.resolve(true);\n      }\n      const hasPermission = await PermissionsAndroid.check(\n        PermissionsAndroid.PERMISSIONS.WRITE_EXTERNAL_STORAGE,\n      );\n      if (hasPermission) {\n        return Promise.resolve(true);\n      }\n\n      if (androidPermissionRequestRequired) {\n        const result = await PermissionsAndroid.request(\n          PermissionsAndroid.PERMISSIONS.WRITE_EXTERNAL_STORAGE,\n        );\n        if (result === PermissionsAndroid.RESULTS.GRANTED) {\n          return Promise.resolve();\n        }\n        throw new Error('Write Permission not available');\n      }\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n  return Promise.resolve(true);\n};\n\nclass RNShare {\n  static Button: any;\n  static ShareSheet: RNShare.ShareSheet;\n  static Overlay: any;\n  static Sheet: any;\n  static Social = {\n    FACEBOOK: NativeModules.RNShare.FACEBOOK || 'facebook',\n    FACEBOOK_STORIES: NativeModules.RNShare.FACEBOOK_STORIES || 'facebook-stories',\n    PAGESMANAGER: NativeModules.RNShare.PAGESMANAGER || 'pagesmanager',\n    TWITTER: NativeModules.RNShare.TWITTER || 'twitter',\n    WHATSAPP: NativeModules.RNShare.WHATSAPP || 'whatsapp',\n    INSTAGRAM: NativeModules.RNShare.INSTAGRAM || 'instagram',\n    INSTAGRAM_STORIES: NativeModules.RNShare.INSTAGRAM_STORIES || 'instagramstories',\n    GOOGLEPLUS: NativeModules.RNShare.GOOGLEPLUS || 'googleplus',\n    EMAIL: NativeModules.RNShare.EMAIL || 'email',\n    PINTEREST: NativeModules.RNShare.PINTEREST || 'pinterest',\n    LINKEDIN: NativeModules.RNShare.LINKEDIN || 'linkedin',\n    SMS: NativeModules.RNShare.SMS || 'sms',\n  };\n\n  static InstagramStories = {\n    SHARE_BACKGROUND_IMAGE: NativeModules.RNShare.SHARE_BACKGROUND_IMAGE || 'shareBackgroundImage',\n    SHARE_BACKGROUND_VIDEO: NativeModules.RNShare.SHARE_BACKGROUND_VIDEO || 'shareBackgroundVideo',\n    SHARE_STICKER_IMAGE: NativeModules.RNShare.SHARE_STICKER_IMAGE || 'shareStickerImage',\n    SHARE_BACKGROUND_AND_STICKER_IMAGE:\n      NativeModules.RNShare.SHARE_BACKGROUND_AND_STICKER_IMAGE || 'shareBackgroundAndStickerImage',\n  };\n\n  static FacebookStories = {\n    SHARE_BACKGROUND_IMAGE: NativeModules.RNShare.SHARE_BACKGROUND_IMAGE || 'shareBackgroundImage',\n    SHARE_STICKER_IMAGE: NativeModules.RNShare.SHARE_STICKER_IMAGE || 'shareStickerImage',\n    SHARE_BACKGROUND_AND_STICKER_IMAGE:\n      NativeModules.RNShare.SHARE_BACKGROUND_AND_STICKER_IMAGE || 'shareBackgroundAndStickerImage',\n  };\n\n  static open(options: Options | MultipleOptions): Promise<OpenReturn> {\n    return new Promise((resolve, reject) => {\n      requireAndAskPermissions(options)\n        .then(() => {\n          if (Platform.OS === 'ios' && options.url && !options.urls) {\n            // Backward compatibility with { Share } from react-native\n            const url = options.url;\n            delete options.url;\n\n            options.urls = [url];\n\n            if (options.filename && !options.filenames) {\n              options.filenames = [options.filename];\n              delete options.filename;\n            }\n          }\n\n          NativeModules.RNShare.open(\n            options,\n            (e) => {\n              return reject({ error: e });\n            },\n            (success, activityType) => {\n              if (success) {\n                return resolve({\n                  app: activityType,\n                  message: activityType,\n                });\n              } else if (options.failOnCancel === false) {\n                return resolve({\n                  dismissedAction: true,\n                });\n              } else {\n                reject(new Error('User did not share'));\n              }\n            },\n          );\n        })\n        .catch((e) => reject(e));\n    });\n  }\n\n  static shareSingle(options: Options): Promise<ShareSingleReturn> {\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\n      return new Promise((resolve, reject) => {\n        requireAndAskPermissions(options)\n          .then(() => {\n            NativeModules.RNShare.shareSingle(\n              options,\n              (e) => {\n                return reject({ error: e });\n              },\n              (e, activityType) => {\n                return resolve({\n                  message: e,\n                  app: activityType,\n                });\n              },\n            );\n          })\n          .catch((e) => reject(e));\n      });\n    } else {\n      throw new Error('Not implemented');\n    }\n  }\n\n  static isPackageInstalled(packageName: string): Promise<ShareSingleReturn> {\n    if (Platform.OS === 'android') {\n      return new Promise((resolve, reject) => {\n        NativeModules.RNShare.isPackageInstalled(\n          packageName,\n          (e) => {\n            return reject({ error: e });\n          },\n          (isInstalled) => {\n            return resolve({\n              isInstalled: isInstalled,\n              message: 'Package is Installed',\n            });\n          },\n        );\n      });\n    } else {\n      throw new Error('Not implemented');\n    }\n  }\n}\n\nexport { Overlay, Sheet, Button, ShareSheet };\nexport default RNShare;\n"]},"metadata":{},"sourceType":"script"}